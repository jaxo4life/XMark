/* Glass + Apple-ish components */
:root {
  --apple-blue: #0a84ff;
  --glass-bg: rgba(255, 255, 255, 0.75);
  --glass-border: rgba(255, 255, 255, 0.35);
}

html,
body {
  height: 100%;
}

body {
  font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", "Segoe UI",
    Roboto, Helvetica, Arial, "Noto Sans CJK SC", "PingFang SC",
    "Hiragino Sans GB", "Microsoft YaHei", sans-serif;
  background: radial-gradient(
    circle at top left,
    #f0f4ff 0%,
    #f9fafc 50%,
    #ffffff 100%
  );
  color: #1e293b;
}

.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(12px);
  border: 1px solid var(--glass-border);
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.06);
}

.tab-button {
  padding: 0.6rem 1rem;
  border-bottom: 2px solid transparent;
  border-radius: 0.75rem 0.75rem 0 0;
  background: transparent;
  transition: all 0.25s ease;
  margin: 0.6rem 0.6rem;
}

.tab-button:hover {
  background: rgba(255, 255, 255, 0.7);
  transform: translateY(-1px);
}

.tab-button.active {
  color: #1e3a8a;
  font-weight: 600;
  background: linear-gradient(
    180deg,
    rgba(191, 219, 254, 0.8),
    rgba(147, 197, 253, 0.65)
  );
  border-color: #3b82f6;
  box-shadow: 0 8px 24px rgba(59, 130, 246, 0.15);
}

#timeline {
  height: 100%;
}

#ranking-cards {
  flex-shrink: 0; /* 保持固定宽度 */
  height: 100vh;      /* 占满可视高度 */
  overflow-y: auto;   /* 单独滚动 */
}

#timeline-axis {
  position: sticky;
  top: 0;
  min-width: 100px;
  height: 100%;
}

#timeline-grid {
  display: flex;
  gap: 1rem;      /* 列间距 */
  overflow-x: hidden; /* 防止 hover 出横向滚动条 */
}

.masonry-col {
  display: flex;
  flex-direction: column;
  gap: 1rem;
  flex: 1;            /* 列均分宽度 */
  min-width: 0;       /* 防止被撑破布局 */
}

.timeline-card {
  display: inline-block;
  width: 100%;
  margin-bottom: 1rem;
}

.timeline-card .thumb {
  cursor: pointer;
  transition: transform 0.25s ease, box-shadow 0.25s ease;
}

.timeline-user:hover {
  transform: scale(1.03);
} 

.thumb:hover {
  transform: scale(1.01);
  box-shadow: 0 12px 28px rgba(0, 0, 0, 0.16);
}

/* Subtle shimmer on hover */
.timeline-card::after {
  content: "";
  position: absolute;
  inset: 0;
  background: linear-gradient(
    120deg,
    transparent 40%,
    rgba(255, 255, 255, 0.35) 50%,
    transparent 60%
  );
  transform: translateX(-200%);
  transition: transform 0.8s ease;
  pointer-events: none;
}

.timeline-card:hover::after {
  transform: translateX(200%);
}

.badge {
  display: inline-flex;
  align-items: center;
  gap: 0.35rem;
  padding: 0.25rem 0.55rem;
  border-radius: 0.65rem;
  background: rgba(99, 102, 241, 0.08);
  border: 1px solid rgba(99, 102, 241, 0.2);
  font-size: 0.85rem;
}

/* Utilities */
.hidden {
  display: none;
}

/* 灯箱背景 */
.lightbox {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.85);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 9999;
}

/* 图片 */
.lightbox img {
  max-width: 90%;
  max-height: 90%;
  border-radius: 8px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
  animation: zoomIn 0.2s ease;
}

@keyframes zoomIn {
  from {
    transform: scale(0.8);
    opacity: 0;
  }
  to {
    transform: scale(1);
    opacity: 1;
  }
}

/* 关闭按钮 */
.lightbox-close {
  position: absolute;
  top: 20px;
  right: 30px;
  font-size: 32px;
  color: white;
  cursor: pointer;
  user-select: none;
  transition: color 0.2s;
}

.lightbox-close:hover {
  color: #ccc;
}

.heatmap-grid {
  display: grid;
  grid-template-rows: repeat(7, 12px); /* 7 行一周 */
  grid-auto-flow: column;              /* 列按天自动排列 */
  gap: 20px;                            /* 方块间距 */
  padding-bottom: 20px;                /* 下方留白给月份文字 */
  position: relative;                  /* 用于绝对定位月份 */
}

.heatmap-cell {
  width: 24px;
  height: 24px;
  margin: 24px 0;
  border-radius: 3px;
  background-color: #ebedf0;
  transition: all 0.15s;
  cursor: pointer;
}

.heatmap-cell:hover {
  outline: 2px solid red; /* 悬浮描红 */
}

